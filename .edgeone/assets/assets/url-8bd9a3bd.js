import{dN as x,r as j,b as $,y as g,D as S,ah as T,dT as W,dO as I}from"./index-505ecd4e.js";import{F as N}from"./File-5a531c3b.js";import"./icon-799df26d.js";import"./index-7215e13d.js";import"./Layout-8e382aad.js";import"./useTitle-97b76e4b.js";import"./FolderTree-6ee955e6.js";import"./index-97c8c15b.js";import"./index-b2e716e6.js";import"./index-f739bf44.js";const{hasOwnProperty:A}=Object.prototype,w=(e,t={})=>{typeof t=="string"&&(t={section:t}),t.align=t.align===!0,t.newline=t.newline===!0,t.sort=t.sort===!0,t.whitespace=t.whitespace===!0||t.align===!0,t.platform=t.platform||typeof process<"u"&&process.platform,t.bracketedArray=t.bracketedArray!==!1;const s=t.platform==="win32"?"\r\n":"\n",r=t.whitespace?" = ":"=",c=[],a=t.sort?Object.keys(e).sort():Object.keys(e);let h=0;t.align&&(h=d(a.filter(n=>e[n]===null||Array.isArray(e[n])||typeof e[n]!="object").map(n=>Array.isArray(e[n])?"".concat(n,"[]"):n).concat([""]).reduce((n,i)=>d(n).length>=d(i).length?n:i)).length);let o="";const y=t.bracketedArray?"[]":"";for(const n of a){const i=e[n];if(i&&Array.isArray(i))for(const f of i)o+=d("".concat(n).concat(y)).padEnd(h," ")+r+d(f)+s;else i&&typeof i=="object"?c.push(n):o+=d(n).padEnd(h," ")+r+d(i)+s}t.section&&o.length&&(o="["+d(t.section)+"]"+(t.newline?s+s:s)+o);for(const n of c){const i=_(n,".").join("\\."),f=(t.section?t.section+".":"")+i,u=w(e[n],{...t,section:f});o.length&&u.length&&(o+=s),o+=u}return o};function _(e,t){var s=0,r=0,c=0,a=[];do if(c=e.indexOf(t,s),c!==-1){if(s=c+t.length,c>0&&e[c-1]==="\\")continue;a.push(e.slice(r,c)),r=c+t.length}while(c!==-1);return a.push(e.slice(r)),a}const O=(e,t={})=>{t.bracketedArray=t.bracketedArray!==!1;const s=Object.create(null);let r=s,c=null;const a=/^\[([^\]]*)\]\s*$|^([^=]+)(=(.*))?$/i,h=e.split(/[\r\n]+/g),o={};for(const n of h){if(!n||n.match(/^\s*[;#]/)||n.match(/^\s*$/))continue;const i=n.match(a);if(!i)continue;if(i[1]!==void 0){if(c=p(i[1]),c==="__proto__"){r=Object.create(null);continue}r=s[c]=s[c]||Object.create(null);continue}const f=p(i[2]);let u;t.bracketedArray?u=f.length>2&&f.slice(-2)==="[]":(o[f]=((o==null?void 0:o[f])||0)+1,u=o[f]>1);const l=u&&f.endsWith("[]")?f.slice(0,-2):f;if(l==="__proto__")continue;const m=i[3]?p(i[4]):!0,k=m==="true"||m==="false"||m==="null"?JSON.parse(m):m;u&&(A.call(r,l)?Array.isArray(r[l])||(r[l]=[r[l]]):r[l]=[]),Array.isArray(r[l])?r[l].push(k):r[l]=k}const y=[];for(const n of Object.keys(s)){if(!A.call(s,n)||typeof s[n]!="object"||Array.isArray(s[n]))continue;const i=_(n,".");r=s;const f=i.pop(),u=f.replace(/\\\./g,".");for(const l of i)l!=="__proto__"&&((!A.call(r,l)||typeof r[l]!="object")&&(r[l]=Object.create(null)),r=r[l]);r===s&&u===f||(r[u]=s[n],y.push(n))}for(const n of y)delete s[n];return s},b=e=>e.startsWith('"')&&e.endsWith('"')||e.startsWith("'")&&e.endsWith("'"),d=e=>typeof e!="string"||e.match(/[=\r\n]/)||e.match(/^\[/)||e.length>1&&b(e)||e!==e.trim()?JSON.stringify(e):e.split(";").join("\\;").split("#").join("\\#"),p=e=>{if(e=(e||"").trim(),b(e)){e.charAt(0)==="'"&&(e=e.slice(1,-1));try{e=JSON.parse(e)}catch(t){}}else{let t=!1,s="";for(let r=0,c=e.length;r<c;r++){const a=e.charAt(r);if(t)"\\;#".indexOf(a)!==-1?s+=a:s+="\\"+a,t=!1;else{if(";#".indexOf(a)!==-1)break;a==="\\"?t=!0:s+=a}}return t&&(s+="\\"),s.trim()}return e};var C={parse:O,decode:O,stringify:w,encode:w,safe:d,unsafe:p};function Q(){const[e]=x();function t(){var o,y;const r=(o=e())==null?void 0:o.content,{text:c}=I(r),h=(y=W(C.parse(c())).internetshortcut)==null?void 0:y.url;if(h){const n=document.createElement("a");n.href=h,n.rel="noopener noreferrer",n.target="_blank",n.click()}}j(()=>{t()});const s=$();return g(T,{get loading(){return e.loading},get children(){return g(N,{get children(){return g(S,{onClick:t,get children(){return s("home.preview.open_in_new_window")}})}})}})}export{Q as default};
